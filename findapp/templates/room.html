{% extends 'base.html' %}

{% load static %}

{% block title %}Lobby{% endblock %}

{% block content %}
    {{ room_name|json_script:"room-name" }}

    <div class="infos-group">
        <div class="player1">
            <p> Player 1 </p>
            {% if player1 %}
            <p id="player1">{{player1}}</p>
            {% else %}
            <p id="player1"></p>
            {% endif %}
            {% if not in_game_state%}
            <p id="player1_text">{{player1_text}}</p>
            {% endif %}
        </div>

        <div class="ingame-infos-group">
            <div class="note">
                <p> Note :</p>
                {% if note %}
                <p>{{ note}}</p>
                {% endif %}
            </div>

            <div class="word">
                {% if word %}
                <p >{{ word }}</p>
                {% endif %}
            </div>
        </div>

        <div class="player2">
            <p> Player 2 </p>
            {% if player2 %}
            <p id="player2">{{player2}}</p>
            {% else %}
            <p id="player2"></p>
            {% endif %}
            {% if not in_game_state%}
            <p id="player2_text">{{player2_text}}</p>
            {% endif %}
        </div>
    </div>

    <div class="interaction-group">
        <form action="" name="action" method="post" id="find-word-form">
            {% csrf_token %}
            {% if not in_game_state%}
                <div class="text-container">
                    <input type="hidden" name="action" value="FINDWORD">
                    <input type="text" class="text-input" disabled>
                </div>

                <div class="rating-container">
                {% if note %}
                    <input type="range" name="rating-input" min="1" max="5" value="{{player_note}}" class="rating-slider" id="rating-slider">
                {% else %}
                    <input type="range" name="rating-input" min="1" max="5" value="3" class="rating-slider" id="rating-slider" disabled>
                {% endif %}
                </div>
            {% else %}
                <div class="text-container">
                    <input type="hidden" name="action" value="RESULTS">
                    <input type="text" class="text-input" name="input-text" onkeydown="return event.key != 'Enter';" oninput="filterInput(this)">
                </div>

                <div class="rating-container">
                    <input type="range" name="rating-input" min="1" max="5" value="3" class="rating-slider" id="rating-slider" disabled>
                </div>
            {% endif %}
        </form>

        <div class="ready-container">
            <input id="ready-button" type="button" value='notready'>
        </div>
    </div>

    <script src="{% static 'findapp/scripts/room.js' %}"></script>
{% endblock %}